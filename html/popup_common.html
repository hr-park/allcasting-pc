<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>공통 팝업 컴포넌트</title>
    <link rel="stylesheet" href="../static/css/NotoSansKR.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/popup.css">
    <script src="../static/js/common.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div class="wrap">
        <div class="inner">
            <h1>공통 팝업 컴포넌트</h1>
            
            <!-- 팝업 트리거 버튼들 -->
            <div class="popup_demo-section">
                <h2>팝업 타입별 예시</h2>
                <div class="demo-buttons">
                    <button type="button" class="btn btn-primary" onclick="openPopup('popup_alert')">알림 팝업</button>
                    <button type="button" class="btn btn-primary" onclick="openPopup('popup_confirm')">확인 팝업</button>
                    <button type="button" class="btn btn-primary" onclick="openPopup('popup_form')">폼 팝업</button>
                    <button type="button" class="btn btn-primary" onclick="openPopup('popup_image')">이미지 팝업</button>
                    <button type="button" class="btn btn-primary" onclick="openPopup('popup_large')">대형 팝업</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 1. 알림 팝업 (Alert) -->
    <div id="popup_alert" class="popup_overlay">
        <div class="popup popup_alert">
            <div class="popup_header">
                <h3 class="popup_title">알림</h3>
                <button type="button" class="btn_close" onclick="closePopup('popup_alert')">
                    <span class="blind">닫기</span>
                </button>
            </div>
            <div class="popup_content">
                <div class="popup_msg">
                    <p>정상적으로 처리되었습니다.</p>
                </div>
            </div>
            <div class="popup_footer">
                <button type="button" class="btn btn-primary" onclick="closePopup('popup_alert')">확인</button>
            </div>
        </div>
    </div>

    <!-- 2. 확인 팝업 (Confirm) -->
    <div id="popup_confirm" class="popup_overlay">
        <div class="popup popup_confirm">
            <div class="popup_header">
                <h3 class="popup_title">확인</h3>
                <button type="button" class="btn_close" onclick="closePopup('popup_confirm')">
                    <span class="blind">닫기</span>
                </button>
            </div>
            <div class="popup_content">
                <div class="popup_msg">
                    <p>정말로 삭제하시겠습니까?<br>삭제된 데이터는 복구할 수 없습니다.</p>
                </div>
            </div>
            <div class="popup_footer">
                <button type="button" class="btn btn-secondary" onclick="closePopup('popup_confirm')">취소</button>
                <button type="button" class="btn btn-primary" onclick="confirmAction('popup_confirm')">삭제</button>
            </div>
        </div>
    </div>

    <!-- 3. 폼 팝업 (Form) -->
    <div id="popup_form" class="popup_overlay">
        <div class="popup popup_form">
            <div class="popup_header">
                <h3 class="popup_title">프로필 수정</h3>
                <button type="button" class="btn_close" onclick="closePopup('popup_form')">
                    <span class="blind">닫기</span>
                </button>
            </div>
            <div class="popup_content">
                <form class="popup_form-content">
                    <div class="form-group">
                        <label for="name">이름</label>
                        <input type="text" id="name" class="form-input" placeholder="이름을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="email">이메일</label>
                        <input type="email" id="email" class="form-input" placeholder="이메일을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="phone">연락처</label>
                        <input type="tel" id="phone" class="form-input" placeholder="연락처를 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="bio">자기소개</label>
                        <textarea id="bio" class="form-textarea" placeholder="자기소개를 입력하세요" rows="4"></textarea>
                    </div>
                </form>
            </div>
            <div class="popup_footer">
                <button type="button" class="btn btn-secondary" onclick="closePopup('popup_form')">취소</button>
                <button type="button" class="btn btn-primary" onclick="submitForm('popup_form')">저장</button>
            </div>
        </div>
    </div>

    <!-- 4. 이미지 팝업 (Image) -->
    <div id="popup_image" class="popup_overlay">
        <div class="popup popup_image">
            <div class="popup_header">
                <h3 class="popup_title">이미지 보기</h3>
                <button type="button" class="btn_close" onclick="closePopup('popup_image')">
                    <span class="blind">닫기</span>
                </button>
            </div>
            <div class="popup_content">
                <div class="image-container">
                    <img src="../static/images/profile_sample.jpg" alt="프로필 이미지" class="popup_image-content">
                </div>
            </div>
        </div>
    </div>

    <!-- 5. 대형 팝업 (Large) -->
    <div id="popup_large" class="popup_overlay">
        <div class="popup popup_large">
            <div class="popup_header">
                <h3 class="popup_title">상세 정보</h3>
                <button type="button" class="btn_close" onclick="closePopup('popup_large')">
                    <span class="blind">닫기</span>
                </button>
            </div>
            <div class="popup_content">
                <div class="popup_large-content">
                    <div class="content-section">
                        <h4>기본 정보</h4>
                        <div class="detail_row_box">
                            <div class="detail_row">
                                <strong class="tit">이름</strong>
                                <p class="desc">김시현</p>
                            </div>
                            <div class="detail_row">
                                <strong class="tit">나이</strong>
                                <p class="desc">25세</p>
                            </div>
                            <div class="detail_row">
                                <strong class="tit">성별</strong>
                                <p class="desc">여성</p>
                            </div>
                        </div>
                    </div>
                    <div class="content-section">
                        <h4>경력 정보</h4>
                        <div class="detail_row_box">
                            <div class="detail_row">
                                <strong class="tit">총 경력</strong>
                                <p class="desc">3년</p>
                            </div>
                            <div class="detail_row">
                                <strong class="tit">참여 작품</strong>
                                <p class="desc">영화 5편, 드라마 3편, 광고 10편</p>
                            </div>
                        </div>
                    </div>
                    <div class="content-section">
                        <h4>특기</h4>
                        <div class="label_group">
                            <span class="label_verified">올캣인증</span>
                            <span class="label_recommend">올캣추천</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="popup_footer">
                <button type="button" class="btn btn-secondary" onclick="closePopup('popup_large')">닫기</button>
                <button type="button" class="btn btn-primary" onclick="contactAction('popup_large')">연락하기</button>
            </div>
        </div>
    </div>

    <script>
        // 팝업 열기
        function openPopup(popupId) {
            const popup = document.getElementById(popupId);
            if (popup) {
                popup.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                
                // 애니메이션을 위한 약간의 지연
                setTimeout(() => {
                    popup.classList.add('active');
                }, 10);
            }
        }

        // 팝업 닫기
        function closePopup(popupId) {
            const popup = document.getElementById(popupId);
            if (popup) {
                popup.classList.remove('active');
                document.body.style.overflow = '';
                
                // 애니메이션 완료 후 display none
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 300);
            }
        }

        // 확인 액션
        function confirmAction(popupId) {
            // 실제 삭제 로직 처리
            swalConfirmPopup("삭제되었습니다.");
            closePopup(popupId);
        }

        // 폼 제출
        function submitForm(popupId) {
            // 실제 폼 제출 로직 처리
            swalConfirmPopup("저장되었습니다.");
            closePopup(popupId);
        }

        // 연락하기 액션
        function contactAction(popupId) {
            // 실제 연락하기 로직 처리
            alert('연락하기 기능이 실행됩니다.');
            closePopup(popupId);
        }

        // ESC 키로 팝업 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const activePopup = document.querySelector('.popup_overlay.active');
                if (activePopup) {
                    closePopup(activePopup.id);
                }
            }
        });

        // 배경 클릭으로 팝업 닫기
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('popup_overlay')) {
                closePopup(e.target.id);
            }
        });
    </script>
</body>
</html>
